$(function(){$(".page-head__toggle").click(function(){return $("body").hasClass("show-nav")?($("body").removeClass("show-nav").addClass("hide-nav"),setTimeout(function(){$("body").removeClass("hide-nav")},800)):$("body").removeClass("hide-nav").addClass("show-nav"),!1})}),$(function(){svg4everybody()}),$(function(){var t=document.getElementById("metropallax"),i=new Parallax(t,{relativeInput:!0,calibrateX:!1,calibrateY:!0,invertX:!1,invertY:!0,limitX:!1,limitY:0,scalarX:2,scalarY:8,frictionX:.2,frictionY:.8,originX:0,originY:1})}),$(function(){function t(t){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=t,this.draw=function(){return this.image?void this.context.drawImage(this.image,this.x-128,this.y-128):(this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(0, 255, 255, 1)",this.context.fill(),void this.context.closePath())},this.update=function(){this.x+=this.xVelocity,this.y+=this.yVelocity,this.x>=l?(this.xVelocity=-this.xVelocity,this.x=l):this.x<=0&&(this.xVelocity=-this.xVelocity,this.x=0),this.y>=r?(this.yVelocity=-this.yVelocity,this.y=r):this.y<=0&&(this.yVelocity=-this.yVelocity,this.y=0)},this.setPosition=function(t,i){this.x=t,this.y=i},this.setVelocity=function(t,i){this.xVelocity=t,this.yVelocity=i},this.setImage=function(t){this.image=t}}function i(t,i){return Math.random()*(i-t)+t}function e(){var e=document.getElementById("smoke");if(e.getContext){u=e.getContext("2d");for(var o=0;a>o;++o){var s=new t(u);s.setPosition(i(0,l),i(0,r)),s.setVelocity(i(-h,h),i(-h,h)),n.push(s)}}else alert("Please use a modern browser")}function o(){u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,0,400,400),n.forEach(function(t){t.draw()})}function s(){n.forEach(function(t){t.update()})}var n=[],a=8,h=4,c=24,l=400,r=400,y=new Image;y.onload=function(){n.forEach(function(t){t.setImage(y)})},y.src="http://www.blog.jonnycornwell.com/wp-content/uploads/2012/07/Smoke10.png";var u;e(),u&&setInterval(function(){s(),o()},1e3/c)});