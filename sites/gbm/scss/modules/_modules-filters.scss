
.hide {
	display: none;
}

.align-center {
	text-align: center;
}

.align-right {
	text-align: right;
}

.newsletter {
	background-color: $color-primary;
	background-image: url("../assets/texture.png"), -webkit-linear-gradient(lighten($color-primary,4%), darken($color-primary,8%));
	background-image: url("../assets/texture.png"), linear-gradient(lighten($color-primary,4%), darken($color-primary,8%));
	border-top: 1px solid lighten($color-primary,20%);
    border-bottom: 1px solid darken($color-primary,4%);
	padding: $vertical-spacing 0 $vertical-spacing / 2;
	text-align: center;
	position: relative;
	width: 100%;
    
    &:before {
		border-top: 1px dashed rgba($white,.25);
		border-bottom: 1px dashed rgba($white,.25);
		content: "";
		display: block;
		position: absolute;
		top: 3px;
		right: 0;
		bottom: 3px;
		left: 0;
		z-index: 0;
    }
    
    .wrap {
	    position: relative;
	    z-index: 1;
    }
	
	@include bp(bp5) {
		padding: $vertical-spacing / 2 0 0;
		text-align: left;
		
		.wrap {
			display: -webkit-box;
			display: -webkit-flex;
			display: -ms-flexbox;
			display: flex;
			-webkit-box-align: center;
			-webkit-align-items: center;
			-ms-flex-align: center;
			align-items: center;
		}
	}
}

.newsletter__hgroup {
	color: lighten($color-primary, 50%);
	margin-bottom: $vertical-spacing / 2;
		
	@include bp(bp5) {
		float: left;
		width: 50%;
	}
}

.newsletter__hgroup-title {
	color: $white;
	margin-bottom: 0;
}

.newsletter__hgroup-text {
	margin-bottom: 0;
}

/*
 * The main subscribe form. In Shopify a 3rd party plugin has been used so we've
 * needed to add styles starting with `cmApp_` to overwrite it's default styling
 * as we can't add the same classes to it.
 *
 * 1. Added by Matt Wade to overwrite 3rd party subscribe form. Also needed to
 *    copy various styles from `.text-input` which is in `_form-input.scss` as
 *    this styling isn't inherited and therefore needs to be declared again for
 *    the plugin so the styling matches.
 */

.newsletter__form {
	@include clearfix;
	margin: 0 auto $vertical-spacing / 2;
	max-width: 500px;
	
	.text-input,
	.btn {
		display: block;
		float: left;
		margin: 0;
		width: 65%;
	}
	
	#cmApp_signupForm,
	.cmApp_signupContainer div {
		margin: 0;
		padding: 0;
	}
	
	.text-input,
	#cmApp_signupEmail { /* [1] */
		background-color: $input-bg;
		background-image: none;
		border: $input-border-width $input-border-style darken($color-primary, 5%);
		border-right: none;
		border-radius: $input-border-radius;
		box-sizing : border-box;
		color: $input-font-color;
		display: block;
		font-family : $input-font-family;
		@include font-size(10);
		line-height: $font-lineheight;
		padding: $input-padding;
		vertical-align: top;
		
		&:hover {
			border-color: darken($color-primary, 10%);
		}
		
		&:focus {
			border-color: darken($color-primary, 15%);
		}
		
		@include bp(bp4) {
			@include font-size($input-font-size);
		}
	}
	
	.btn,
	.cmApp_formSubmitButton { /* [2] */
		font-size: 10px !important;
		width: 35%;
		
		@include bp(bp4) {
			font-size: 13px !important;
		}
	}
	
	@include bp(bp5) {
		float: right;
		width: 50%;
	}
}

.cmApp_signupContainer {
    width: 100% !important;
    max-width: 500px !important;
    min-width: 200px !important;
    padding: 0px !important;
    
    .cmApp_cf {
    	@include clearfix;
    	margin: 0 auto $vertical-spacing / 2;
    	max-width: 500px;
    	width: 100% !important;
    	font-family: $button-font-family !important;
    	
    	.text-input,
    	input[type="text"],
    	.cmApp_formSubmitButton,
    	.btn {
    		display: block;
    		float: left;
    		margin: 0;
    		width: 65%;
    	}
    	
    	.text-input, input[type="text"], {
    		border-color: darken($color-primary, 5%);
    		border-right: none;
    		padding-left: 15px;
    		padding-right: 15px;
    		
    		&:hover {
    			border-color: darken($color-primary, 10%);
    		}
    		
    		&:focus {
    			border-color: darken($color-primary, 15%);
    		}
    	}
    	
    	.btn, .cmApp_formSubmitButton {
    		width: 35%;
    		background-color: #0e1010 !important;
    		
    		&:hover {
        		background-color: #94121f !important;
    		}
    	}
    	
    	@include bp(bp5) {
    		float: right;
    		width: 50%;
    	}
    }
    
    .cmApp_statusContainer {
        .cmApp_successMsg {
            color: #fff !important;
        }
        
        img {
            width: 50px;
        }
    }
}

#cmApp_signupForm {
    .cmApp_fieldWrap {
        margin: 0 !important;

        .cmApp_errorMsg {
            margin: 0 !important;
        }
    }
}


/*------------------------------------*\
    #FILTERS
\*------------------------------------*/






.filter-controls {
	margin-bottom: $vertical-spacing;
}

.filter-controls {
	@include clearfix;
	
	.select {
		float: right;
		width: calc(50% - 7.5px);
		
		select {
			color: $grey;
			@include font-size(12);
			height: 40px;
			line-height: 40px;
			padding-top: 0;
			padding-bottom: 0;
		}
		
		@include bp(bp3) {
			width: auto;
		}
	}
}

.filter-toggle {
	color: $grey;
	float: left;
	@include font-size(12);
	height: 40px;
	line-height: 40px;
	margin-bottom: $vertical-spacing / 2;
	overflow: hidden;
	padding: 0 20px 0 50px;
	-webkit-transition: none;
	transition: none; // Stops delayed animation on `span`
	text-align: left;
	text-transform: capitalize;
	width: calc(50% - 7.5px);
	
	.icon {
		fill: $grey-darker;
		position: absolute;
		top: 10px;
		left: 15px;
	}
	
	span {
		display: block;
		-webkit-transition: all .20s;
		transition: all .20s;
	}
	
	&.active {
		
		span {
		-webkit-transform: translate(0,-100%);
		-ms-transform: translate(0,-100%);
		transform: translate(0,-100%);
		}
	}
	
	&:visited {
		color: $grey;
	}
	
	&:focus,
	&:hover {
		color: $grey-darker;
		
		.icon {
			fill: $grey-darker;
		}
	}
	
	@include bp(bp3) {
		width: auto;
	}
}

.filter-grid__filters {
	display: none !important;
}

.filter-grid__content {
	width: 100%;
}

.filter-toggle--mobile {
	display: inline-block;
}

.filter-toggle--desktop {
	display: none;
}

@include bp(bp5) {
	
	.filter-toggle--mobile {
		display: none;
	}
	
	.filter-toggle--desktop {
		display: inline-block;
	}
	
	.show-filters {
		
		.filter-grid__filters {
			display: block !important;
		}
		
		.filter-grid__content {
			width: 80%;
		}
	}
}



.filter-controls {
	margin-bottom: 0 !important; // Overwrite where?
	
	.selector {
		float: right;
		width: auto;
	}
}


.filter-grid {
	position: relative;
}

/**
 * Comments.
 */

.filters {
	padding-right: $gutter;
	
	.mm-panel {
		padding-left: 0;
		padding-right: 0;
		
		&:before {
			display: none;
		}
	}
}

.filters__title {
	border-bottom: $input-border-width $input-border-style $input-border-color;
	padding-bottom: 15px;
	
	@include font-size(12);
	
	.mm-menu & {
		border-bottom: $border-width $border-style $border-color;
		margin-bottom: 15px;
		padding: 15px 20px 10px;
	}
}

.filters__clear {
	background: none;
	color: $grey;
	float: right;
	@include font-size(11);
	font-weight: 700;
	padding: 0;
	position: relative;
	text-shadow: none;
	text-transform: capitalize;
	
	&:visited {
		color: $grey-light;
	}
	
	&:hover,
	&:focus {
		color: $grey-darker;
		
		&:after {
			border-color: $grey-darker;
		}
	}
}

.filters__list {
	@include font-size(12);
	margin-left: 0;
	padding-left: 0;
	
	.mm-menu & {
		border-bottom: $border-width $border-style $border-color;
		margin-bottom: 0;
		padding: 0 20px 5px;
	}
}

.filters__item {
	background: none;
	margin: 0 0 $vertical-spacing / 3;
	padding: 0;
}

.filters__link {
	background: none;
	color: $grey-dark;
	cursor: pointer;
	font-weight: 400;
	padding: 0 0 0 20px;
	position: relative;
	text-shadow: none;
	
	&:before {
		background-color: $white;
		border: $input-border-width $input-border-style $input-border-color;
		content: "";
		display: inline-block;
		height: 10px;
		position: absolute;
		top: 2px;
		left: 0;
		-webkit-transition: all .20s;
		transition: all .20s;
		width: 10px;
	}
	
	&:visited {
		color: $grey-dark;
	}
	
	&:hover,
	&:focus {
		color: $grey-darker;
		
		&:after {
			border-color: $grey-darker;
		}
	}
	
	&.filters__link--active {
		color: $grey-darker;
		font-weight: 700;
		
		&:before {
			background: $color-primary url(../assets/icon-check.svg) no-repeat center center;
			border-color: darken($color-primary,5%);
		}
	}
}



.qty {
	@include clearfix;
	margin-bottom: $vertical-spacing;
	width: 150px;
	
	&.qty--small {
		width: 105px;
	}
}

.qty__down,
.qty__up,
.qty__input {
	border: $input-border-width $input-border-style $input-border-color;
	box-sizing: border-box;
	display: block;
	float: left;
	height: 50px;
	margin: 0;
	outline: 0;
	padding: 0;
	width: 50px;
	
	.qty--small & {
		height: 35px;
		width: 35px;
	}
}

.qty__down,
.qty__up {
	background: $white;
	cursor: pointer;
	-webkit-transition: border .20s;
	transition: border .20s;
	
	.icon {
		fill: $grey-light;
		-webkit-transition: fill .20s;
		transition: fill .20s;
	}
	
	&:visited {
		background: $white;
		
		.icon {
			fill: $grey-darker;
		}
	}
	
	&:hover,
	&:focus {
		border-color: darken($grey-lighter,10%);
		
		.icon {
			fill: $grey-darker;
		}
	}
}

.qty__input {
	border-right: none;
	border-left: none;
	color: $grey-darker;
	font-weight: 700;
	text-align: center;
	
	&:hover,
	&:focus {
		border-color: $border-color;
	}
	
	.qty--small & {
		@include font-size(12);
	}
}


.qty__remove {
	background-image: none;
	color: $grey;
	display: inline-block;
	@include font-size(11);
	font-weight: 400;
	padding: 0;
	margin-top: 5px;
	text-shadow: none;
	
	&:visited {
		color: $grey;
	}
	
	&:focus,
	&:hover {
		color: $grey-darker;
	}
}

